f[501][501],u[501][501],a[501],b[501],c[501],s,t,m,i,I,j,J,k,p;main(){scanf("%d",&s);for(i=1;i<=s;i++)scanf("%d",a+i);scanf("%d",&t);for(i=1;i<=t;i++)scanf("%d",b+i);for(i=1;i<=s;i++)for(j=1;j<=t;j++){f[i][j]=f[i-1][j];u[i][j]=-1;if(a[i]==b[j]){p=0;for(k=1;k<j;k++)if(b[j]>b[k]&&f[i][p]<f[i][k])p=k;if(f[i][p]+1>f[i][j])f[i][j]=f[i][p]+1,u[i][j]=p;if(f[i][j]>m)m=f[i][j],I=i,J=j;}}for(i=m;i>0;I--)if(u[I][J]!=-1)c[i--]=b[J],J=u[I][J];printf("%d\n",m);for(i=1;i<=m;i++)printf("%d ",c[i]);}